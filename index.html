<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Clinic Management — Frontend Demo</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="topbar">
    <div class="brand"><div class="logo">CL</div><div class="title">Clinic Management</div></div>
    <div class="top-right">
      <div id="datetime">
        <span id="gregorian">--</span>
        <span id="hijri">--</span>
      </div>
      <div class="lang-switch">
        <select id="langSelect">
          <option value="ar">العربية</option>
          <option value="fr">Français</option>
          <option value="en">English</option>
        </select>
      </div>
    </div>
  </header>

  <div class="app">
    <aside class="sidebar">
      <div class="user-area">
        <div id="userAvatar" class="avatar">A</div>
        <div>
          <div id="userName" class="username">Guest</div>
          <div id="userRole" class="role small">Not logged</div>
        </div>
      </div>
      <nav class="menu">
        <button class="menu-btn active" data-view="home">الرئيسية</button>
        <button class="menu-btn" data-view="patients">المرضى</button>
        <button class="menu-btn" data-view="appointments">المواعيد</button>
        <button class="menu-btn" data-view="pharmacy">الصيدلية</button>
        <button class="menu-btn" data-view="finance">المحاسبة</button>
        <button class="menu-btn" data-view="settings">الإعدادات</button>
      </nav>
      <div class="sidebar-footer">
        <button id="btnLogout" class="btn danger small">تسجيل خروج</button>
      </div>
    </aside>

    <main class="content">
      <!-- LOGIN / SIGNUP modal -->
      <div id="loginBox" class="card login-card">
        <h2 id="lblAppTitle">نظام إدارة العيادة</h2>
        <div id="loginMsg" class="small" style="color:red"></div>
        <div class="form-row">
          <input id="loginUser" class="input" placeholder="اسم المستخدم / البريد" />
          <input id="loginPass" class="input" type="password" placeholder="كلمة المرور" />
        </div>
        <div style="display:flex;gap:8px;margin-top:10px">
          <button id="btnLogin" class="btn">تسجيل الدخول</button>
          <button id="btnOpenSignup" class="btn muted">تسجيل كمريض</button>
        </div>
        <p class="small">افتراضي: admin / admin (صلاحية: admin)</p>
      </div>

      <!-- VIEWS -->
      <section id="viewContainer" class="views" style="display:none">
        <!-- Home -->
        <section id="view-home" class="view card">
          <div class="hero">
            <div>
              <h2 id="homeTitle">مرحبًا بك في لوحة التحكم</h2>
              <p class="small" id="homeDesc">عرض تعريفي للنظام متعدد التخصصات.</p>
              <div style="margin-top:12px">
                <button class="btn" onclick="showView('patients')">إدارة المرضى</button>
              </div>
            </div>
            <img src="assets/img/hero.png" alt="hero" style="width:220px;opacity:.9">
          </div>
        </section>

        <!-- Patients -->
        <section id="view-patients" class="view card" style="display:none">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <h3>قائمة المرضى</h3>
            <div class="search"><input id="patientSearch" class="input" placeholder="ابحث باسم المريض أو الهاتف..." /></div>
          </div>

          <div class="card" style="margin-top:12px">
            <h4>إضافة مريض جديد</h4>
            <form id="formAddPatient" class="form-row">
              <input class="input" name="name" id="p_name" placeholder="الاسم الكامل" required>
              <input class="input" name="phone" id="p_phone" placeholder="رقم الهاتف" required>
              <input class="input" type="date" name="dob" id="p_dob" placeholder="تاريخ الميلاد">
              <input class="input" id="p_age" placeholder="العمر" readonly>
              <select class="input" id="p_sex"><option>ذكر</option><option>أنثى</option></select>
              <input class="input" id="p_country" placeholder="البلد">
              <input class="input" id="p_state" placeholder="الولاية / الولاية">
              <input class="input" type="date" id="p_lastvisit" placeholder="تاريخ آخر زيارة">
              <input class="input" id="p_address" placeholder="العنوان">
              <input class="input" id="p_notes" placeholder="ملاحظات / مرض">
              <button class="btn" type="button" id="btnAddPatient">إضافة</button>
            </form>
            <div id="patientMsg" class="small" style="color:green;margin-top:8px"></div>
          </div>

          <div class="card" style="margin-top:12px">
            <table class="table" id="patientsTable">
              <thead><tr><th>الاسم</th><th>الهاتف</th><th>العمر</th><th>البلد</th><th>الولاية</th><th>آخر زيارة</th><th>إجراءات</th></tr></thead>
              <tbody></tbody>
            </table>
          </div>
        </section>

        <!-- Appointments -->
        <section id="view-appointments" class="view card" style="display:none">
          <h3>المواعيد</h3>
          <div class="card">
            <h4>حجز موعد</h4>
            <form id="formBook" class="form-row">
              <select class="input" id="ap_patient"></select>
              <input class="input" type="datetime-local" id="ap_datetime">
              <select class="input" id="ap_doctor"><option>Dr. Ahmed</option><option>Dr. Sara</option></select>
              <input class="input" id="ap_reason" placeholder="سبب الزيارة">
              <button class="btn" id="btnBook">حجز</button>
            </form>
            <div id="apMsg" class="small" style="color:green;margin-top:6px"></div>
          </div>

          <div class="card">
            <h4>قائمة المواعيد</h4>
            <table class="table" id="apTable">
              <thead><tr><th>مريض</th><th>الطبيب</th><th>التاريخ</th><th>الحالة</th><th>إجراءات</th></tr></thead>
              <tbody></tbody>
            </table>
          </div>
        </section>

        <!-- Pharmacy -->
        <section id="view-pharmacy" class="view card" style="display:none">
          <h3>الصيدلية</h3>
          <div class="card">
            <form id="formMed" class="form-row">
              <input class="input" id="med_name" placeholder="اسم الدواء">
              <input class="input" id="med_stock" type="number" placeholder="المخزون">
              <input class="input" id="med_exp" type="date" placeholder="تاريخ الانتهاء">
              <input class="input" id="med_supplier" placeholder="المورد">
              <button class="btn" id="btnAddMed">إضافة / تحديث</button>
            </form>
            <div id="medMsg" class="small" style="color:green;margin-top:6px"></div>
          </div>

          <div class="card">
            <table class="table" id="medTable"><thead><tr><th>الدواء</th><th>المخزون</th><th>انتهاء</th><th>المورد</th><th>إجراءات</th></tr></thead><tbody></tbody></table>
          </div>
        </section>

        <!-- Finance -->
        <section id="view-finance" class="view card" style="display:none">
          <h3>المحاسبة</h3>
          <div class="card">
            <form id="formFinance" class="form-row">
              <input class="input" id="f_desc" placeholder="البيان">
              <input class="input" id="f_amount" type="number" placeholder="المبلغ">
              <select class="input" id="f_type"><option value="income">دخل</option><option value="expense">مصروف</option></select>
              <button class="btn" id="btnAddFinance">تسجيل</button>
            </form>
            <div id="fMsg" class="small" style="color:green;margin-top:6px"></div>
          </div>
          <div class="card">
            <h4>سجل العمليات</h4>
            <table class="table" id="financeTable"><thead><tr><th>البيان</th><th>المبلغ</th><th>النوع</th><th>التاريخ</th></tr></thead><tbody></tbody></table>
          </div>
        </section>

        <!-- Settings -->
        <section id="view-settings" class="view card" style="display:none">
          <h3>الإعدادات</h3>
          <div class="card">
            <h4>المستخدمون (Admin)</h4>
            <div class="form-row">
              <input class="input" id="u_name" placeholder="اسم المستخدم">
              <input class="input" id="u_pass" placeholder="كلمة المرور">
              <select id="u_role" class="input"><option value="admin">Admin</option><option value="doctor">Doctor</option><option value="nurse">Nurse</option><option value="reception">Reception</option></select>
              <button class="btn" id="btnAddUser">إضافة مستخدم</button>
            </div>
            <div id="usersList" style="margin-top:8px"></div>
          </div>

          <div class="card">
            <h4>تغيير كلمة المرور</h4>
            <div class="form-row">
              <input class="input" id="oldPass" type="password" placeholder="كلمة المرور القديمة">
              <input class="input" id="newPass" type="password" placeholder="كلمة المرور الجديدة">
              <input class="input" id="confirmPass" type="password" placeholder="تأكيد كلمة المرور">
              <button class="btn" id="btnChangePass">تغيير</button>
            </div>
            <div id="passMsg" class="small" style="color:green;margin-top:6px"></div>
          </div>
        </section>
      </section>

      <!-- SIGNUP modal (hidden) -->
      <div id="signupModal" class="card" style="display:none;max-width:480px;margin-top:20px">
        <h3>تسجيل مريض جديد</h3>
        <div id="signupMsg" class="small" style="color:green"></div>
        <div class="form-row">
          <input id="su_name" class="input" placeholder="الاسم الكامل">
          <input id="su_phone" class="input" placeholder="الهاتف">
          <input id="su_pass" class="input" type="password" placeholder="كلمة المرور">
          <button class="btn" id="btnSignup">إنشاء حساب</button>
          <button class="btn muted" id="btnCloseSignup">إغلاق</button>
        </div>
      </div>
    </main>
  </div>

  <script src="assets/app.js"></script>
</body>
</html>
